<!DOCTYPE html>
<html lang="en">
<head th:replace="layouts/head :: admin-header"> </head>
<body class="@@dashboard">
<div id="preloader"><i>.</i><i>.</i><i>.</i></div>

<div id="main-wrapper" class="admin">

  <div th:replace="layouts/topheader :: admin-topheader"> </div>
  <div th:replace="layouts/sidebar :: admin-sidebar"> </div>

  <div class="content-body">
    <div class="container">
      <div class="page-title">
        <div class="row align-items-center justify-content-between">
          <div class="col-6">
            <div class="page-title-content">
              <h3>[[#{edit}]] [[#{user}]]</h3>
            </div>
          </div>
          <div class="col-auto">
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-xxl-12">
          <div th:if="${status}=='success'">
            <div  class="alert alert-primary" role="alert">
              [[${message}]]
            </div>
          </div>

          <div th:if="${status}=='error'">
            <div class="alert alert-danger" role="alert">
              [[${message}]]
            </div>
          </div>
          <div class="card">
            <div class="card-body">
              <form th:action="@{/admin/user/edit}" th:object="${user}" method="post">
                <div class="row">
                  <div class="col-xxl-6 col-xl-6 col-lg-6 mb-3">
                    <label class="form-label">[[#{firstName}]]
                    </label>
                    <input type="hidden" th:field="*{id}" th:value="@{id}">
                    <input th:field="*{firstName}" th:value="@{firstName}" type="text" class="form-control">
                  </div>
                  <div class="col-xxl-6 col-xl-6 col-lg-6 mb-3">
                    <label class="form-label">[[#{lastName}]]
                    </label>
                    <input th:field="*{lastName}" th:value="@{lastName}" type="text" class="form-control">
                  </div>
                  <div class="col-xxl-6 col-xl-6 col-lg-6 mb-3">
                    <label
                            class="form-label">[[#{email}]]</label><input th:value="@{email}" th:field="*{email}" type="email"
                                                                          class="form-control" >
                  </div>
                  <div class="col-xxl-6 col-xl-6 col-lg-6 mb-3">
                    <label
                            class="form-label">[[#{password}]]</label><input th:value="@{password}" th:field="*{password}" type="password"
                                                                             class="form-control" >
                  </div>
                  <div th:if="${#authentication.getPrincipal().getId()!=id}">

                  <div class="col-xxl-6 col-xl-6 col-lg-6 mb-3"><label
                          class="form-label">Role</label>
                    <select th:field="*{role}" class="form-control">
                      <option value="ROLE_ADMIN">ADMIN</option>
                      <option value="ROLE_USER">USER</option>
                    </select>
                  </div>

                  </div>
                </div>
                <div class="mt-3">
                  <button type="submit" class="btn btn-primary mr-2">[[#{edit}]]</button>
                  <a th:href="@{/admin/user}" class="btn btn-info mr-2">[[#{back}]]</a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</div>
<script th:src="@{/vendor/jquery/jquery.min.js}"></script>
<script th:src="@{/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
<script th:src="@{/js/scripts.js}"></script>
</body>

</html>